---
name: No steps # eg if all workflows are calling reusable workflows.
function: getJobsWithDefaultedRunsShells
input:
  jobs:
    job1:
      uses: foo
    job2:
      uses: bar
expected: '[]'
---
name: No run steps
function: getJobsWithDefaultedRunsShells
input:
  jobs:
    job1:
      steps: [ ]
    job2:
      steps: [ ]
expected: '[]'
---
name: One step without shell
function: getJobsWithDefaultedRunsShells
input:
  jobs:
    job1:
      steps:
        - run: A
          shell: bash
        - run: B
          shell: bash
        - run: C
          shell: bash
    job2:
      steps:
        - run: D
          shell: bash
        - run: E w/ no shell
        - run: F
          shell: bash
expected: '["job2"]'
---
name: All steps without shell
function: getJobsWithDefaultedRunsShells
input:
  jobs:
    job1:
      steps:
        - run: A
        - run: B
        - run: C
    job2:
      steps:
        - run: A
        - run: B
        - run: C
    "job with\n\tcomplex id":
      steps:
        - run: A
    1:
      steps:
        - run: A
expected: '["job1","job2","job with\n\tcomplex id","1"]'
---
name: Ignore non-run steps
function: getJobsWithDefaultedRunsShells
input:
  jobs:
    job1:
      steps:
        - run: A
          shell: bash
        - run: B
          shell: bash
        - use: C
    job2:
      steps:
        - run: D
          shell: bash
        - run: E
          shell: bash
        - use: F
expected: '[]'
...
